<odoo>
	<data noupdate="0">
		<record id="view_cicd_release_form" model="ir.ui.view">
			<field name="name">cicd.release form</field>
			<field name="model">cicd.release</field>
			<field name="arch" type="xml">
				<form string="">
					<header>
						<button string="Collect Branches" name="collect_branches_on_candidate" class="oe_highlight" type="object"/>
						<button string="Make Hotfix" name="make_hotfix" type="object"/>
						<field name="state" widget="statusbar" />
					</header>
					<sheet>
						<group string="Release" col="2">
							<field name="name" />
							<field name="project_name"/>
							<field name="branch_id"/>
							<field name="candidate_branch_id" />
							<field name="machine_ids" widget="many2many_tags" required='1' />
							<field name="sequence_id"/>
						</group>
						<group string="Continuous Deployment">
							<field name="countdown_minutes"/>
							<field name="auto_release"/>
							<field name="auto_release_cronjob_id" readonly='1' attrs="{'invisible': [('auto_release', '=', False)]}"/>
							<field name="planned_timestamp_after_preparation" attrs="{'invisible': [('auto_release', '=', False)], 'required': [('auto_release', '=', True)]}" />
						</group>
						<notebook>
							<page string="Versions">
								<field name="item_ids" nocreate='1' nodelete='1'>
									<tree>
										<field name="name"/>
										<field name="release_type"/>
										<field name="branch_ids" widget='many2many_tags'/>
										<field name="final_curtain"/>
										<field name="planned_date"/>
										<field name="done_date"/>
										<field name="state"/>
									</tree>
								</field>

							</page>
						</notebook>
					</sheet>
					<div class="oe_chatter">
						<field name="message_follower_ids" widget="mail_followers"/>
						<field name="message_ids" widget="mail_thread"/>
					</div>
				</form>
			</field>
		</record>
	</data>
</odoo>
